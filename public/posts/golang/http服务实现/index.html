<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>Golang å®ç° HTTP æœåŠ¡çš„åˆ†æ | taojyçš„æŠ€æœ¯åšå®¢</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡ ğŸ”— func handler(w http.ResponseWriter, r *http.Request) { fmt.Fprint(w, &#34;Hello, Golang&#34;) } // å†™æ³•ä¸€ func main() { http.HandleFunc(&#34;/hello&#34;, handler) http.ListenAndServe(&#34;:8888&#34;, nil) } // å†™æ³•äºŒ func main() { http.HandleFunc(&#34;/&#34;, handler) srv := http.Server{ Addr: &#34;:8888&#34;, Handler: nil, } srv.ListenAndServe() } ä¸Šé¢ç¬¬ä¸€ç§å†™æ³•æ˜¯ä¸€ç§ç®€åŒ–çš„å†™æ³•ï¼Œå…¶å®åº•å±‚ä¹Ÿæ˜¯è°ƒç”¨çš„ç¬¬äºŒç§å†™æ³•çš„ srv.ListenAndServe()
ListenAndServe() å¤„ç†è¯·æ±‚çš„åº•å±‚ ğŸ”—func (srv *Server) ListenAndServe() error { addr := srv.Addr if addr == &#34;&#34; { addr = &#34;:http&#34; } ln, err := net.Listen(&#34;tcp&#34;, addr) if err !">
<meta name="generator" content="Hugo 0.124.1">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />








  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>é¦–é¡µ</a>
	
	<a href="/posts">å½’æ¡£</a>
	<a href="/tags">æ ‡ç­¾</a>
	<a href="/about">å…³äº</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Golang å®ç° HTTP æœåŠ¡çš„åˆ†æ</h1>

    <div class="tip">
        <time datetime="2022-04-28 21:30:20 &#43;0800 CST">2022å¹´04æœˆ28æ—¥</time>
        <span class="split">
          Â·
        </span>
        <span>
          300å­—
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          2åˆ†é’Ÿ
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#å¯åŠ¨ä¸€ä¸ª-http-æœåŠ¡">å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡</a></li>
    <li><a href="#listenandserve-å¤„ç†è¯·æ±‚çš„åº•å±‚">ListenAndServe() å¤„ç†è¯·æ±‚çš„åº•å±‚</a></li>
    <li><a href="#å¤šè·¯å¤ç”¨å™¨">å¤šè·¯å¤ç”¨å™¨</a></li>
    <li><a href="#ginå¯¹å¤šè·¯å¤ç”¨å™¨çš„å®ç°">Ginå¯¹å¤šè·¯å¤ç”¨å™¨çš„å®ç°</a>
      <ul>
        <li><a href="#å®ç°ä¼ªä»£ç ">å®ç°ï¼ˆä¼ªä»£ç ï¼‰</a></li>
        <li><a href="#ä½¿ç”¨">ä½¿ç”¨</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h2 id="å¯åŠ¨ä¸€ä¸ª-http-æœåŠ¡">å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡ <a href="#%e5%90%af%e5%8a%a8%e4%b8%80%e4%b8%aa-http-%e6%9c%8d%e5%8a%a1" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">handler</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Fprint</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;Hello, Golang&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å†™æ³•ä¸€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">HandleFunc</span>(<span style="color:#e6db74">&#34;/hello&#34;</span>, <span style="color:#a6e22e">handler</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#e6db74">&#34;:8888&#34;</span>, <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å†™æ³•äºŒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">HandleFunc</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">handler</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srv</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Server</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Addr</span>:    <span style="color:#e6db74">&#34;:8888&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Handler</span>: <span style="color:#66d9ef">nil</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srv</span>.<span style="color:#a6e22e">ListenAndServe</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Â Â Â Â Â Â Â Â ä¸Šé¢ç¬¬ä¸€ç§å†™æ³•æ˜¯ä¸€ç§ç®€åŒ–çš„å†™æ³•ï¼Œå…¶å®åº•å±‚ä¹Ÿæ˜¯è°ƒç”¨çš„ç¬¬äºŒç§å†™æ³•çš„ srv.ListenAndServe()</p>
<h2 id="listenandserve-å¤„ç†è¯·æ±‚çš„åº•å±‚">ListenAndServe() å¤„ç†è¯·æ±‚çš„åº•å±‚ <a href="#listenandserve-%e5%a4%84%e7%90%86%e8%af%b7%e6%b1%82%e7%9a%84%e5%ba%95%e5%b1%82" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">srv</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Server</span>) <span style="color:#a6e22e">ListenAndServe</span>() <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">addr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">srv</span>.<span style="color:#a6e22e">Addr</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">addr</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">addr</span> = <span style="color:#e6db74">&#34;:http&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">ln</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">Listen</span>(<span style="color:#e6db74">&#34;tcp&#34;</span>, <span style="color:#a6e22e">addr</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">srv</span>.<span style="color:#a6e22e">Serve</span>(<span style="color:#a6e22e">tcpKeepAliveListener</span>{<span style="color:#a6e22e">ln</span>.(<span style="color:#f92672">*</span><span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">TCPListener</span>)})
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">---------------------------</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">srv</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Server</span>) <span style="color:#a6e22e">Serve</span>(<span style="color:#a6e22e">l</span> <span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">Listener</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">Close</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ä¸æ–­å¾ªç¯å–å‡ºTCPè¿æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// çœ‹æˆ‘çœ‹æˆ‘ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#a6e22e">rw</span>, <span style="color:#a6e22e">e</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">Accept</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å†çœ‹æˆ‘å†çœ‹æˆ‘ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">serve</span>(<span style="color:#a6e22e">ctx</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Â Â Â Â Â Â Â Â å¯ä»¥çœ‹åˆ°æ¯ä¸ªæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚éƒ½ä¼šèµ·ä¸€ä¸ªç‹¬ç«‹çš„ goroutine å»å¤„ç†ã€‚</p>
<h2 id="å¤šè·¯å¤ç”¨å™¨">å¤šè·¯å¤ç”¨å™¨ <a href="#%e5%a4%9a%e8%b7%af%e5%a4%8d%e7%94%a8%e5%99%a8" class="anchor">ğŸ”—</a></h2><blockquote>
<p><code>å¤šè·¯å¤ç”¨å™¨</code> å…¶å®å°±æ˜¯å¯¹ <code>Handleræ¥å£</code> çš„ä¸€ä¸ªå…·ä½“å®ç°ã€‚</p>
</blockquote>
<p>Â Â Â Â Â Â Â Â åœ¨åˆ›å»ºæœåŠ¡çš„æ—¶å€™ï¼ŒListenAndServe æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°å…¶å®æŒ‡çš„å°±æ˜¯ä¸€ä¸ªå¤šè·¯å¤ç”¨å™¨ï¼Œå› ä¸º Golang å®ç°äº†ä¸€ä¸ªé»˜è®¤çš„ <code>å¤šè·¯å¤ç”¨å™¨ DefaultServeMux</code> ï¼ŒDefaultServeMux ä¹Ÿæ˜¯å¯¹ Handlerï¼ˆæ¥å£ï¼‰ çš„ä¸€ä¸ªå…·ä½“å®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼ é€’ nil çš„æ—¶å€™ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚<br />
Â Â Â Â Â Â Â Â ä¸è¿‡Golangå®ç°çš„è¿™ä¸ªé»˜è®¤çš„å¤šè·¯å¤ç”¨å™¨ä¸æ˜¯é‚£ä¹ˆå¥½ï¼Œä¾‹å¦‚ä¸æ”¯æŒæ›´é«˜çº§çš„è·¯ç”±åŠŸèƒ½ï¼ˆè·¯ç”±ç»„ï¼Œä¸­é—´ä»¶ï¼‰ï¼Œä¹Ÿéœ€è¦å¯¹è·¯ç”±ç®—æ³•åšæ›´å¥½çš„ä¼˜åŒ–ï¼›æ‰€ä»¥å¾ˆå¤š webæ¡†æ¶ å…¶å®éƒ½æ˜¯é‡æ–°å®ç°äº†æ›´ç»†è‡´çš„å¤šè·¯å¤ç”¨å™¨çš„ã€‚</p>
<h2 id="ginå¯¹å¤šè·¯å¤ç”¨å™¨çš„å®ç°">Ginå¯¹å¤šè·¯å¤ç”¨å™¨çš„å®ç° <a href="#gin%e5%af%b9%e5%a4%9a%e8%b7%af%e5%a4%8d%e7%94%a8%e5%99%a8%e7%9a%84%e5%ae%9e%e7%8e%b0" class="anchor">ğŸ”—</a></h2><h3 id="å®ç°ä¼ªä»£ç ">å®ç°ï¼ˆä¼ªä»£ç ï¼‰ <a href="#%e5%ae%9e%e7%8e%b0%e4%bc%aa%e4%bb%a3%e7%a0%81" class="anchor">ğŸ”—</a></h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">gin</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">HandlerFunc</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å¤šè·¯å¤ç”¨å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Engine</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">router</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">HandlerFunc</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// http.Handler interface çš„å®ç°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">engine</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span>) <span style="color:#a6e22e">ServeHTTP</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">req</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">key</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">Method</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">Path</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">handler</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">engine</span>.<span style="color:#a6e22e">router</span>[<span style="color:#a6e22e">key</span>]; <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">handler</span>(<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">req</span>)
</span></span><span style="display:flex;"><span>	} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Fprintf</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;404 NOT FOUND: %s\n&#34;</span>, <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">URL</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">New</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Engine</span>{<span style="color:#a6e22e">router</span>: make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">HandlerFunc</span>)}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">engine</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span>) <span style="color:#a6e22e">addRoute</span>(<span style="color:#a6e22e">method</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">pattern</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">handler</span> <span style="color:#a6e22e">HandlerFunc</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">key</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">method</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">pattern</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">engine</span>.<span style="color:#a6e22e">router</span>[<span style="color:#a6e22e">key</span>] = <span style="color:#a6e22e">handler</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">engine</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span>) <span style="color:#a6e22e">GET</span>(<span style="color:#a6e22e">pattern</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">handler</span> <span style="color:#a6e22e">HandlerFunc</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">engine</span>.<span style="color:#a6e22e">addRoute</span>(<span style="color:#e6db74">&#34;GET&#34;</span>, <span style="color:#a6e22e">pattern</span>, <span style="color:#a6e22e">handler</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">engine</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span>) <span style="color:#a6e22e">POST</span>(<span style="color:#a6e22e">pattern</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">handler</span> <span style="color:#a6e22e">HandlerFunc</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">engine</span>.<span style="color:#a6e22e">addRoute</span>(<span style="color:#e6db74">&#34;POST&#34;</span>, <span style="color:#a6e22e">pattern</span>, <span style="color:#a6e22e">handler</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">engine</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Engine</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">addr</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">err</span> <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#a6e22e">addr</span>, <span style="color:#a6e22e">engine</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Â Â Â Â Â Â Â Â æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šé¢éœ€è¦å®ç°ä¸€ä¸ª <code>å¤šè·¯å¤ç”¨å™¨</code>ï¼Œå¿…é¡»å®ç° <code>ServeHTTP()</code> æ–¹æ³•ã€‚å› ä¸ºå¿…é¡»å®ç° <code>Handleræ¥å£</code>ï¼ŒHandleræ¥å£å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Handler</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ServeHTTP</span>(<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">Request</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="ä½¿ç”¨">ä½¿ç”¨ <a href="#%e4%bd%bf%e7%94%a8" class="anchor">ğŸ”—</a></h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">engine</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">New</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">engine</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Context</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Writer</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#e6db74">&#34;hello gin framework!&#34;</span>))
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">server</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Server</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Addr</span>:    <span style="color:#e6db74">&#34;:8888&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Handler</span>: <span style="color:#a6e22e">engine</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">ListenAndServe</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Â Â Â Â Â Â Â Â ä¸Šé¢çš„ engine å°±æ˜¯å¯¹ <code>å¤šè·¯å¤ç”¨å™¨</code> çš„å®ç°ï¼Œæ›¿ä»£äº†ä¹‹å‰çš„ <code>DefaultServeMux</code>ã€‚</p>

    </div>

    
        <div class="tags">
            
                <a href="/tags/go">GO</a>
            
                <a href="/tags/go-%E6%A0%87%E5%87%86%E5%BA%93">GO æ ‡å‡†åº“</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        
    
    </div>

    
</footer>



  </body>
</html>
